---
tags:
  - reviewer
course: ICS2607 - Information Management
period: Prelim
assessment: Long Exam 2
---
# Entity Relationship Model
 - conceptual framework to describe the structure of a DB
 - represents the entities and the relationships between them
	 - Entity - corresponds to a table, not to a row
	 - ERM refers to a table row as an entity instance or entity occurrence
 - ERD - Entity Relationship Model
	 - visual representation of an ER model
	 - Diagrammatic way to illustrate the entities, attributes and relationships within a database system
	 - Used during the database design phase to create a clear overview of the data model
	 - means for stakeholders to communicate about the structure and requirements of a DB system
	 - Provides the big picture of an organization's data requirements and operations
 - Chen's notation
	 - ![[Pasted image 20230927185706.png]]
 - Crow's foot notation
	 - ![[Pasted image 20230927190524.png]]
 
## Attributes
 - Are characteristics of entities
 - If they are required or not
	 - Required attributes - attributes that must have a value
	 - Optional attributes - Does not require a value, can be left as null
 - If they can be divided or not
	 - Simple attributes - attributes that cannot be subdivided
	 - Composite attributes - attributes that can be further subdivided to yield further attributes
 - If they can hold multiple values or not
	 - Single-valued attributes - attributes that can have only a single value
	 - Multi-valued attributes - attributes that can have many values
 - Domains - the set of possible values for a given attribute
 - Identifiers - one or more attributes that uniquely identify each instance
	 - is a type of attribute
	 - primary key
 - Derived attributes
	 - Attributes that are calculated from other attributes
	 - Storing derived attributes
		 - Advantages
			 - Saves CPU cycles and data access time
			 - Can be used to keep track of historical data over time
		 - Disadvantages
			 - Requires constant maintenance
	 - Not storing derived attributes
		 - Advantages
			 - Saves storage space
			 - Always yields the current result
		 - Disadvantages
			 - can result to more complex queries

## Relationships
 - an association between entities
 - **participants** - entities that participate in a relationship
	 - each relationship is identified by a name that describes the relationship
	 - operate in both directions
		 - A customer may generate many invoices
		 - Each invoice is generated by one customer
 - **Types of relationships (connectivities)**
	 - 1:1 - one to one
		 - One office manager to one office
		 - One department head to a one department
	 - 1:M - one is to many
		 - One person can own many cars
	 - M:N - many is to many - cannot be directly implemented
		 - Many post can have many authors
 - **Cardinality** - the minimum and maximum number of entity occurrences associated with one occurrence of the related entity
 - **Connectivity** - describes the relationship classification
	 - In Crow's foot, is the number of lines at the end of relations
 - **Existence Dependence**
	 - an entity is existence dependent if it can exist in the DB only when it is associated with another related entity. These are known as weak entities
		 - It is required to have a mandatory foreign key
	 - Existence independence
		 - if an entity can exist apart from all of its related entities, then it is a strong entity
 - **Relationship strength**
	 - Weak Relationship - the primary key of the related entity does not contain a primary key component of the parent entity
		 - There is no way to go back to the parent entity from the related entity
	 - Strong relationship
		 - Exists when the primary key of the related entity contains a primary key component of the parent entity
		 - The related entity has a foreign key that is also a primary key
 - **Entity strength**
	 - Weak entity
		 - The entity is existence-dependent, it has a mandatory relationship
		 - The entity has a primary key that is partially or totally derived from the parent entity in the relationship
 - **Relationship participation**
	 - Optional participation - one entity occurrence does not require a corresponding entity occurrence in a relationship
	 - Mandatory participation - one entity occurrence **requires** a corresponding entity occurrence in a particular relationship
 - **Relationship degree**
	 - The number of participants associated with a relationship
	 - Unary - association within an entity
		 - Posts can be related to other posts
	 - Binary - association between two entities
	 - Ternary - association between three entities

### Developing an ER diagram
- Iterative process that involves creating a narrative of the description of operations
- identifying business rules based on the description of operations
- Identify main entities and relationships from the business rules
- **Challenges**
	- design standards
	- processing speed
	- information requirements

# Database normalization
 - the process of evaluating and correcting table structures to minimize data redundancies
 - Makes it less likely to make data anomalies, normalization involves assigning attributes to tables
	 - Data redundancy - same data are stored unnecessarily at different places
	 - Data anomaly - inconsistencies in a dataset from the expected and normal patterns
 - Is used to analyze the relationships among attributes and determine if the structure can be improved and create an appropriate database design
	 - evaluating and correcting table structures to minimize data redundancies, reducing the likelihood of data anomalies
	 - Reduces redundancy and makes DB operations slower
		 - sometimes you want to denormalize some data for increased performance
	 - Unnormalized relation
	 - entries that contain repeating groups
 - Good DB design must be matched to good database structures
	 - Normalization cannot by itself be relied to make good designs
	 - It is valuable because it helps us eliminate data redundancies
 - Focuses on the characteristics of specific entities, a micro view of entities within the ERD
 - Yields additional entities and attributes to be incorporated into the ERD
 - Goes through stages called normal forms
	 - First normal form - table format, no repeating groups and PK identified
	 - Second normal form - 1NF and no partial dependencies
	 - Third normal form - 2nd and no transitive dependencies
 
## Goals of normalization

 - A data represents only a single object and its attributes
 - Data is kept in one table to eliminate update anomalies
	 - Each table represents a single subject
	 - No data will be stored in more than one table
 - All data must depend on the PK
 - no update, insertion, or deletion anomalies so integrity and consistency is ensured
 - All none prime attributes in a table are dependent on the entire primary key
	 - Ensures that the data is uniquely identifiable by a primary key value

## Types of dependence

 - **Functional dependence**
	 - Each value of one attribute determines one and only one value of B
	 - The input is called the determinant and the output is called the dependent attribute
 - **Partial dependency** - there is a functional dependence in which the determinant is only part of the primary key
	 - Attributes that are the same across all entities with the same primary key
	 - In a big table with a primary composite key, you only need 1 part of the composite key to identify the column.
 - **Transitive dependency** - X->Y and Y->Z and X is the primary key
	 - Attributes that are the same across all entities with a non primary key
	 - X determines the value of Z via the value of Y

## Evaluation of normalization

 - Evaluating PK assignments
	 - it is easy to make data entry errors that lead to referential integrity violations
	 - we should add foreign key constraints so that whenever we violate data integrity, an error is thrown
	 - We could also create another attribute in the table to create a unique identifier
	 - Example: An employee table with the job_class attribute
		 - It is better to create a job_code attribute that is used to uniquely identify the job class
 - Evaluating naming conventions
	 - best to adhere to naming conventions, prepend the name of the table in to the attribute to indicate its association
 - Refine attribute atomicity
	 - Good practice to pay attention to atomicity
		 - Atomic attribute is one that cannot be further subdivided
 - Identify new attributes
 - Identify new relationships
 - Refine primary keys as required for granularity
	 - The level of detail represented by the values stored in a table's row
	 - Data stored at the lowest level of granularity is atomic data
 - Derived attributes
	 - Can use a derived attribute to store the actual value instead of having to create it
	 - This creates a transitive dependency between the values that are used to calculate the derived attribute
## Denormalization

 - intentionally introducing redundancy by incorporating data from related tables into one table
 - Improves read performance since it reduces the number of table joins required
 - Reduced complexity: simplifies queries and makes then easier to write and understand
 - Aggregation: denormalization can simplify aggregation operations
 - Downsides
	 - Increased storage
	 - Data integrity - can lead to issues if updates and inserts are not handled carefully
	 - Maintenance complexity - multiple updates need to be synchronized across tables
	 - Insert and update performance - they require data to change in multiple places

## Normal Forms

 - **Conversion to First Normal Form**
	 - Table format, no repeating groups and PK is identified
	 - Eliminate repeating groups
		 - Eliminate the nulls by making sure that each repeating group attributes contain the appropriate data value
	 - Identify PKs
		 - Identify possibly composite keys
		 - PKs are bold and underlined
		 - Arrows above are the most desired dependencies
		 - Arrows below are the less desired dependencies
	 - Identify dependencies
		 - The composite keys determine all the other columns in the database
		 - Determine partial and transitive dependencies using the subparts of the PK
 - **Conversion to Second Normal Form**
	 - **Only done when the 1NF has composite primary key**
		 - If the 1NF table has a simple primary key, then 1NF table is automatically in 2NF
	 - Make new tables to eliminate partial dependencies
		 - Leave transitive dependencies as is
			 - Any attribute that are not dependent in a partial dependency will remain in the original table
		 - For each component of the primary key that acts as a determinant, create a new table with a copy of that component as the primary key
	 - Reassign corresponding dependent attributes
		 - The attributes that are dependent on a PD are removed from the original table and placed in the new table with its determinant
	 - It is in 2NF and it is in 1NF and it includes no primary dependencies
 - **Conversion to third normal form**
	 - Make new tables to eliminate transitive dependencies
	 - Reassign corresponding dependent attributes
 - **Conversion to 4NF**
	 - A table is in 4NF when it is in 3NF and has no multivalued dependencies
		 - An multivalued attribute is split up into multiple lines alongside different data.
		 - For a dependency A->B for every single value of A, multiple values of B exist
 - Boyce-Codd Normal Form
	 - A table is in BCNF when every determinant in the table is a candidate key
		 - The candidate key is the minimal set of attributes that can uniquely identify a tuple
		 - Any attribute which can be used to uniquely identify the table row
		 - A user table may have a user_id but their phone number can also be used to uniquely identify them, thus the phone number attribute is also a candidate key.


